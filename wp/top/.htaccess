# /public_html/.htaccess（＝ルート）
DirectoryIndex index.php index.html

RewriteEngine On

# 退避フォルダは除外
RewriteCond %{REQUEST_URI} !^/_old/ [NC]

# 旧トップ index.html は / へ
RewriteCond %{THE_REQUEST} \s/+(index\.html?)\s [NC]
RewriteRule ^index\.html?$ / [R=301,L]

# *.html / *.htm → 同名スラッグ（/about.html → /about/）
RewriteRule ^(.+)\.html?$ /$1/ [R=301,L]

# （任意）/wp 直叩きは / に正規化
RewriteRule ^wp/?$ / [R=301,L]

# WP標準（ルートでWPを出すとき用）
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
